package in.arunIt.service;

import org.springframework.cglib.core.Block;
import org.springframework.stereotype.Service;
import org.springframework.web.reactive.function.BodyInserters;
import org.springframework.web.reactive.function.client.WebClient;

import in.arunIt.binding.Passanger;
import in.arunIt.binding.Ticket;
import reactor.core.publisher.Mono;

public class MakeMyTripService {
	
	private final String apiUrl= "";
	
	public Mono<Ticket> bookTicket(Passanger p) {
		
		
		WebClient webclient = WebClient.create();
		  Mono<String> bodyToMono = webclient.post()
		                               .uri(apiUrl)
		                               .body(BodyInserters.fromValue(p))
		                               .retrieve()
		                               .bodyToMono(Ticket.class)
		                               .block();
		  return bodyToMono;
		System.out.println(bodyToMono);
		
		
		
	}

}
